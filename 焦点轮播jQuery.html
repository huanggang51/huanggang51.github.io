<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		*{
			margin: 0 auto;
			padding: 0;
		}
        a{
        	text-decoration: none;
        	color: #fff;
        }
        .banner{
        	width: 600px;
        	height: 400px;
        	border: 2px solid red;
        	overflow: hidden;
        	margin-top: 50px;
        	position: relative;
        }
        .list{
        	width: 4200px;
        	height: 400px;
        	position: absolute;
        	z-index: 1;
        }
        .list img {
        	float: left;
        }
        .buttons{
        	position: absolute;
        	width: 100px;
        	height: 10px;
        	bottom: 30px;
        	left: 250px;
        	z-index: 2;
        }
        .buttons span{
        	width: 10px;
        	height: 10px;
        	border: 1px solid #fff;
        	float: left;
        	margin-right: 5px;
        	border-radius: 50px;
        	background: #333;
        	cursor: pointer;
        }
        .buttons span.on{
        	background: orangered;

        }
        .arrow{
        	position: absolute;
        	top: 180px;
        	width: 40px;
        	height: 40px;
        	background-color: rgba(0,0,0,.2);
        	font-size: 36px;
        	color: #fff;
        	text-align: center;
        	line-height: 40px;
        	display: none;
        	z-index: 2;
        	font-weight: bold;
        }
        .arrow:hover{
        	background: rgba(0,0,0,.7);
        }
        .banner:hover .arrow{
        	display: block;
        }
        #prev{
        	left:20px;
        }
        #next{
        	right: 20px;
        }
	</style>
	<script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
</head>
<body>
	<div class="banner" id="banner">
		<div class="list" style="left:-600px;">
			<img src="E:/前段/新建文件夹/焦点图轮播效果(源代码)/img/5.jpg" alt="">
			<img src="E:/前段/新建文件夹/焦点图轮播效果(源代码)/img/1.jpg" alt="">
			<img src="E:/前段/新建文件夹/焦点图轮播效果(源代码)/img/2.jpg" alt="">
			<img src="E:/前段/新建文件夹/焦点图轮播效果(源代码)/img/3.jpg" alt="">
			<img src="E:/前段/新建文件夹/焦点图轮播效果(源代码)/img/4.jpg" alt="">
			<img src="E:/前段/新建文件夹/焦点图轮播效果(源代码)/img/5.jpg" alt="">
			<img src="E:/前段/新建文件夹/焦点图轮播效果(源代码)/img/1.jpg" alt="">
		</div>
		<div class="buttons">
			<span class="on" index='1'></span>
			<span index='2'></span>
			<span index='3'></span>
			<span index='4'></span>
			<span index='5'></span>
		</div>
		<a href="javascript:;" id="prev" class="arrow">&lt;</a>
		<a href="javascript:;" id="next" class="arrow">&gt;</a>
	</div>
	<script type="text/javascript">
		$(function(){
			var banner=$('#banner');
			var list=$('.list');
			var buttons=$('.buttons span');
			var prev=$('#prev');
			var next=$('#next');
			var len=5;
			var index=1;
			var t=3000;
			var timer='';
			function play(){
                timer=setInterval(function(){
                	next.trigger('click');
                },t)
			}
			function stop(){
				clearInterval(timer);
			}
			function showbutton(){
                buttons.eq(index-1).addClass('on').siblings().removeClass('on');
			}
			function animate(offset){
				var left=parseInt(list.css('left'))+offset;
				if(offset<0){
					offset='-='+Math.abs(offset);
				}
				else{
					offset='+='+offset;
				}
                list.animate({'left':offset},300,function(){
                	animated=true;
                	if (left>-600) {
                		list.css('left',-600*len);
                	}
                	if (left<(-600*len)) {
                		list.css('left',-600);
                	}
                })
				
			}
			next.bind('click',function(){
				if (list.is(':animated')) {
					return;
				}
				if (index==5) {
					index=1;
				}else{
					index+=1;
				}
				animate(-600);
				
				showbutton();
			})
			prev.bind('click',function(){
				if (list.is(':animated')) {
					return;
				}
				if (index==1) {
					index=5;
				}else{
					index-=1;
				}
               animate(600);
               
               showbutton();
			})
			buttons.each(function(){
				$(this).bind('click',function(){
					if (list.is(':animated')||$(this).attr('class')=='on') {
						return;
					}
					var myIndex=parseInt($(this).attr('index'));
					var offset=-600*(myIndex-index);
					animate(offset);
					index=myIndex;
					showbutton();
					
				})
			})
			banner.hover(stop,play);
			play();
		})
	</script>
</body>
</html>